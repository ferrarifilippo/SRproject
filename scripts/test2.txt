====================================
Configuration
====================================
                                    name : Test
                            path_dataset : /Users/filippoferrari/Desktop/SRproject/dataset/beer_depth
                          path_intrinsic : /Users/filippoferrari/Desktop/SRproject/dataset/beer_depth/camera.json
                               depth_max : 3.0
                              voxel_size : 0.005
                          depth_diff_max : 0.1
        preference_loop_closure_odometry : 0.1
    preference_loop_closure_registration : 5.0
                         tsdf_cubic_size : 3.0
                              icp_method : color
                     global_registration : ransac
                  python_multi_threading : True
                          depth_map_type : redwood
                   n_frames_per_fragment : 100
                 n_keyframes_per_n_frame : 5
                               depth_min : 0.3
                             depth_scale : 1000
                          max_iterations : 5
                               sdf_trunc : 0.04
                             block_count : 40000
                      distance_threshold : 0.07
                       fitness_threshold : 0.3
                      regularizer_weight : 1
                          save_output_as : pointcloud
                          subfolder_slac : slac/0.005/
                                  method : slac
                                  device : cpu:0
                             folder_slac : slac/
       template_optimized_posegraph_slac : optimized_posegraph_slac.json
                         folder_fragment : fragments/
             template_fragment_posegraph : fragments/fragment_%03d.json
   template_fragment_posegraph_optimized : fragments/fragment_optimized_%03d.json
            template_fragment_pointcloud : fragments/fragment_%03d.ply
                            folder_scene : scene/
               template_global_posegraph : scene/global_registration.json
     template_global_posegraph_optimized : scene/global_registration_optimized.json
              template_refined_posegraph : scene/refined_registration.json
    template_refined_posegraph_optimized : scene/refined_registration_optimized.json
                    template_global_mesh : scene/integrated.ply
                    template_global_traj : scene/trajectory.log
                              debug_mode : True
OpenCV is detected. Using ORB + 5pt algorithm
making fragments from RGBD sequence.
Fragment 000 / 000 :: RGBD matching between frame : 0 and 1
SOURCE_RGBD: RGBDImage of size
Color image : 480x360, with 1 channels.
Depth image : 480x360, with 1 channels.
Use numpy.asarray to access buffer data.
TARGET_RGBD: RGBDImage of size
Color image : 480x360, with 1 channels.
Depth image : 480x360, with 1 channels.
Use numpy.asarray to access buffer data.
[True, array([[ 9.99024030e-01, -2.36449541e-03,  4.41066428e-02,
        -1.66030049e-07],
       [ 3.80868803e-03,  9.99458349e-01, -3.26879604e-02,
         1.15558662e-07],
       [-4.40054618e-02,  3.28240464e-02,  9.98491913e-01,
         1.16624004e-07],
       [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00,
         1.00000000e+00]]), array([[9., 0., 0., 0., 0., 0.],
       [0., 9., 0., 0., 0., 0.],
       [0., 0., 9., 0., 0., 0.],
       [0., 0., 0., 9., 0., 0.],
       [0., 0., 0., 0., 9., 0.],
       [0., 0., 0., 0., 0., 9.]])]
Fragment 000 / 000 :: RGBD matching between frame : 1 and 2
SOURCE_RGBD: RGBDImage of size
Color image : 480x360, with 1 channels.
Depth image : 480x360, with 1 channels.
Use numpy.asarray to access buffer data.
TARGET_RGBD: RGBDImage of size
Color image : 480x360, with 1 channels.
Depth image : 480x360, with 1 channels.
Use numpy.asarray to access buffer data.
[True, array([[ 9.99920129e-01,  1.18567594e-02,  4.37643361e-03,
        -6.91923538e-08],
       [-1.18695233e-02,  9.99925343e-01,  2.90215027e-03,
        -4.97671117e-10],
       [-4.34169679e-03, -2.95386465e-03,  9.99986212e-01,
        -2.64090069e-08],
       [ 0.00000000e+00,  0.00000000e+00,  0.00000000e+00,
         1.00000000e+00]]), array([[9., 0., 0., 0., 0., 0.],
       [0., 9., 0., 0., 0., 0.],
       [0., 0., 9., 0., 0., 0.],
       [0., 0., 0., 9., 0., 0.],
       [0., 0., 0., 0., 9., 0.],
       [0., 0., 0., 0., 0., 9.]])]
Fragment 000 / 000 :: RGBD matching between frame : 2 and 3
SOURCE_RGBD: RGBDImage of size
Color image : 480x360, with 1 channels.
Depth image : 480x360, with 1 channels.
Use numpy.asarray to access buffer data.
TARGET_RGBD: RGBDImage of size
Color image : 480x360, with 1 channels.
Depth image : 480x360, with 1 channels.
Use numpy.asarray to access buffer data.
[True, array([[1., 0., 0., 0.],
       [0., 1., 0., 0.],
       [0., 0., 1., 0.],
       [0., 0., 0., 1.]]), array([[ 9.00000055e+00, -1.88400847e-07, -4.26001615e-07,
         0.00000000e+00, -1.13909809e-01,  5.02995665e-02],
       [-1.88400847e-07,  9.00000085e+00, -1.97253211e-07,
         1.13909809e-01,  0.00000000e+00, -1.08630407e-01],
       [-4.26001615e-07, -1.97253211e-07,  9.00000052e+00,
        -5.02995665e-02,  1.08630407e-01,  0.00000000e+00],
       [ 0.00000000e+00,  1.13909809e-01, -5.02995665e-02,
         2.90560000e+04,  0.00000000e+00,  0.00000000e+00],
       [-1.13909809e-01,  0.00000000e+00,  1.08630407e-01,
         0.00000000e+00,  2.90560000e+04,  0.00000000e+00],
       [ 5.02995665e-02, -1.08630407e-01,  0.00000000e+00,
         0.00000000e+00,  0.00000000e+00,  2.90560000e+04]])]
[Open3D DEBUG] Validating PoseGraph - finished.
[Open3D DEBUG] [GlobalOptimizationLM] Optimizing PoseGraph having 4 nodes and 3 edges.
[Open3D DEBUG] Line process weight : 9.691333
[Open3D DEBUG] [Initial     ] residual : 6.869099e-34, lambda : 2.906500e-01
[Open3D DEBUG] Maximum coefficient of right term < 1.000000e-06
[Open3D DEBUG] [GlobalOptimizationLM] Optimizing PoseGraph having 4 nodes and 3 edges.
[Open3D DEBUG] Line process weight : 9.691333
[Open3D DEBUG] [Initial     ] residual : 6.869099e-34, lambda : 2.906500e-01
[Open3D DEBUG] Maximum coefficient of right term < 1.000000e-06
[Open3D DEBUG] CompensateReferencePoseGraphNode : reference : 0
['/Users/filippoferrari/Desktop/SRproject/dataset/beer_depth/image/00000.jpg', '/Users/filippoferrari/Desktop/SRproject/dataset/beer_depth/image/00001.jpg', '/Users/filippoferrari/Desktop/SRproject/dataset/beer_depth/image/00002.jpg', '/Users/filippoferrari/Desktop/SRproject/dataset/beer_depth/image/00003.jpg']
['/Users/filippoferrari/Desktop/SRproject/dataset/beer_depth/depth/00000.png', '/Users/filippoferrari/Desktop/SRproject/dataset/beer_depth/depth/00001.png', '/Users/filippoferrari/Desktop/SRproject/dataset/beer_depth/depth/00002.png', '/Users/filippoferrari/Desktop/SRproject/dataset/beer_depth/depth/00003.png']
Fragment 000 / 000 :: integrate rgbd frame 0 (1 of 4).
Fragment 000 / 000 :: integrate rgbd frame 1 (2 of 4).
Fragment 000 / 000 :: integrate rgbd frame 2 (3 of 4).
Fragment 000 / 000 :: integrate rgbd frame 3 (4 of 4).
numero punti in pcd: 0
register fragments.
[Open3D WARNING] PoseGraph read JSON failed: empty edges.
[Open3D DEBUG] Validating PoseGraph - finished.
[Open3D DEBUG] [GlobalOptimizationLM] Optimizing PoseGraph having 1 nodes and 0 edges.
[Open3D DEBUG] Line process weight : 0.000000
[Open3D DEBUG] [Initial     ] residual : 0.000000e+00, lambda : 0.000000e+00
[Open3D DEBUG] Maximum coefficient of right term < 1.000000e-06
[Open3D DEBUG] [GlobalOptimizationLM] Optimizing PoseGraph having 1 nodes and 0 edges.
[Open3D DEBUG] Line process weight : 0.000000
[Open3D DEBUG] [Initial     ] residual : 0.000000e+00, lambda : 0.000000e+00
[Open3D DEBUG] Maximum coefficient of right term < 1.000000e-06
[Open3D DEBUG] CompensateReferencePoseGraphNode : reference : 0
refine rough registration of fragments.
[Open3D WARNING] PoseGraph read JSON failed: empty edges.
PoseGraph with 1 nodes and 0 edges.
[Open3D WARNING] PoseGraph read JSON failed: empty edges.
[Open3D DEBUG] Validating PoseGraph - finished.
[Open3D DEBUG] [GlobalOptimizationLM] Optimizing PoseGraph having 1 nodes and 0 edges.
[Open3D DEBUG] Line process weight : 0.000000
[Open3D DEBUG] [Initial     ] residual : 0.000000e+00, lambda : 0.000000e+00
[Open3D DEBUG] Maximum coefficient of right term < 1.000000e-06
[Open3D DEBUG] [GlobalOptimizationLM] Optimizing PoseGraph having 1 nodes and 0 edges.
[Open3D DEBUG] Line process weight : 0.000000
[Open3D DEBUG] [Initial     ] residual : 0.000000e+00, lambda : 0.000000e+00
[Open3D DEBUG] Maximum coefficient of right term < 1.000000e-06
[Open3D DEBUG] CompensateReferencePoseGraphNode : reference : 0
integrate the whole RGBD sequence using estimated camera pose.
Fragment 000 / 000 :: integrate rgbd frame 0 (1 of 4).
Fragment 000 / 000 :: integrate rgbd frame 1 (2 of 4).
Fragment 000 / 000 :: integrate rgbd frame 2 (3 of 4).
Fragment 000 / 000 :: integrate rgbd frame 3 (4 of 4).
====================================
Elapsed time (in h:m:s)
====================================
- Making fragments    0:00:03.590545
- Register fragments  0:00:00.005049
- Refine registration 0:00:00.003449
- Integrate frames    0:00:01.004882
- SLAC                0:00:00
- SLAC Integrate      0:00:00
- Total               0:00:04.603925