<?xml version="1.0"?>
<robot name="cougarbot">
    <link name="world"/>

    <link name="base_link">
        <visual>
            <geometry>
                <cylinder length="0.05" radius="0.1"/>
            </geometry>
            <material name="silver">
                <color rgba="0.75 0.75 0.75 1"/>
            </material>
            <origin rpy="0 0 0" xyz="0 0 0.025"/>
        </visual>
        <collision> 
        <geometry> <cylinder length="0.05" radius="0.1"/> 
        </geometry> <origin rpy="0 0 0" xyz="0 0 0.025"/> 
        </collision>
        
        <inertial>
 		<mass value="1.0"/>
 		<origin rpy="0 0 0" xyz="0 0 0.025"/>
 		<inertia ixx="0.0027" iyy="0.0027" izz="0.005" ixy="0" ixz="0" iyz="0"/>
 	</inertial>
    </link>

    <joint name="fixed" type="fixed">
        <parent link="world"/>
        <child link="base_link"/>
    </joint>


    <link name="torso">
        <visual>
            <geometry>
                <cylinder length="0.5" radius="0.05"/>
            </geometry>
            <material name="silver">
                <color rgba="0.75 0.75 0.75 1"/>
            </material>
            <origin rpy="0 0 0" xyz="0 0 0.25"/>
        </visual>
        <collision>
        <geometry>
                <cylinder length="0.5" radius="0.05"/>
            </geometry>
            <origin rpy="0 0 0" xyz="0 0 0.25"/>
          </collision>
          <inertial>
 <mass value="1.0"/>
 <origin rpy="0 0 0" xyz="0 0 0.25"/>
 <inertia ixx="0.02146" iyy="0.02146" izz="0.00125"
 ixy="0" ixz="0" iyz="0"/>
 		</inertial>
            
    </link>
    <joint name="hip" type="continuous">
        <axis xyz="0 0 1"/>
        <parent link="base_link"/>
        <child link="torso"/>
        <origin rpy="0 0 0" xyz="0.0 0.0 0.05"/>
    </joint>


    <link name="upper_arm">
        <visual>
            <geometry>
                <cylinder length="0.4" radius="0.05"/>
            </geometry>
            <material name="silver"/>
            <origin rpy="0 0 0" xyz="0 0 0.2"/>
        </visual>
        <collision>
        <geometry>
                <cylinder length="0.4" radius="0.05"/>
            </geometry> <origin rpy="0 0 0" xyz="0 0 0.2"/>
            </collision>
        <inertial>
 <mass value="1.0"/>
 <origin rpy="0 0 0" xyz="0 0 0.2"/>
 <inertia ixx="0.01396" iyy="0.01396" izz="0.00125"
ixy="0" ixz="0" iyz="0"/>
 	</inertial>
 
    </link>
    <joint name="shoulder" type="continuous">
        <axis xyz="0 1 0"/>
        <parent link="torso"/>
        <child link="upper_arm"/>
        <origin rpy="0 1.5708 0" xyz="0.0 -0.1 0.45"/>
    </joint>

    <link name="lower_arm">
        <visual>
            <geometry>
                <cylinder length="0.4" radius="0.05"/>
            </geometry>
            <material name="silver"/>
            <origin rpy="0 0 0" xyz="0 0 0.2"/>
            
        </visual>
        <collision>
        	<geometry>
                  <cylinder length="0.4" radius="0.05"/>
               </geometry>
               <origin rpy="0 0 0" xyz="0 0 0.2"/>
        </collision>
            <inertial>
 <mass value="1.0"/>
 <origin rpy="0 0 0" xyz="0 0 0.2"/>
 <inertia ixx="0.01396" iyy="0.01396" izz="0.00125"
 ixy="0" ixz="0" iyz="0"/>
 	</inertial>
    </link>
    
    
    <joint name="elbow" type="continuous">
        <axis xyz="0 1 0"/>
        <parent link="upper_arm"/>
        <child link="lower_arm"/>
        <origin rpy="0 0 0" xyz="0.0 0.1 0.35"/>
    </joint>

    <!--<link name="hand">
        <visual>
            <geometry>
                <box size="0.05 0.05 0.05"/>
            </geometry>
            <material name="silver"/>
        </visual>
        <collision>
        <geometry>
                <box size="0.05 0.05 0.05"/>
            </geometry>
        </collision>
        <inertial>
 	<mass value="1.0"/>
 	<inertia ixx="0.00042" iyy="0.00042" izz="0.00042"
 ixy="0" ixz="0" iyz="0"/>
 	</inertial>
    </link> 
    <joint name="wrist" type="continuous">
        <axis xyz="0 1 0"/>
        <parent link="lower_arm"/>
        <child link="hand"/>
        <origin rpy="0 0 0" xyz="0.0 0.0 0.425"/>
    </joint> -->
    
    
    
    
    <link name="sensor">
      <inertial>
        <mass value="0.2"/>
        <inertia ixx="0.00014395" ixy="0" ixz="0" iyy="0.00000384" iyz="0" izz="0.00014136"/>
      </inertial>
      <collision name="collision">
        <geometry>
            <box size="0.008 0.13 0.02"/>
        </geometry>
        <surface>
          <contact>
            <ode>
              <max_vel>0.1</max_vel>
              <min_depth>0.001</min_depth>
            </ode>
          </contact>
          <friction>
            <ode>
              <mu>0.4</mu>
              <mu2>0.4</mu2>
            </ode>
          </friction>
        </surface>
      </collision>
      <visual name="visual">
        <geometry>
          <mesh filename="model://intel_realsense_r200/meshes/realsense_r200.dae"/>
         </geometry>
      </visual>
      
    </link>
    <joint name="wrist" type="continuous">
        <axis xyz="0 1 0"/>
        <parent link="lower_arm"/>
        <child link="sensor"/>
        <origin rpy="0 -1.5708 0" xyz="0.0 0.0 0.405"/>
    </joint>
    
    <!--<joint name="end" type="fixed">
        <parent link="hand"/>
        <child link="sensor"/>
    </joint>-->
    
    
    <transmission name="tran0">
 <type>transmission_interface/SimpleTransmission</type>
 <joint name="hip">
 <hardwareInterface>PositionJointInterface</hardwareInterface>
 </joint>
 <actuator name="motor0">
 <hardwareInterface>PositionJointInterface</hardwareInterface>
 <mechanicalReduction>1</mechanicalReduction>
 </actuator>
 </transmission>
 
  <transmission name="tran1">
 <type>transmission_interface/SimpleTransmission</type>
 <joint name="shoulder">
 <hardwareInterface>PositionJointInterface</hardwareInterface>
 </joint>
 <actuator name="motor1">
 <hardwareInterface>PositionJointInterface</hardwareInterface>
 <mechanicalReduction>1</mechanicalReduction>
 </actuator>
 </transmission>
 
 <transmission name="tran2">
 <type>transmission_interface/SimpleTransmission</type>
 <joint name="elbow">
 <hardwareInterface>PositionJointInterface</hardwareInterface>
 </joint>
 <actuator name="motor2">
 <hardwareInterface>PositionJointInterface</hardwareInterface>
 <mechanicalReduction>1</mechanicalReduction>
 </actuator>
 </transmission>
 
 <transmission name="tran3">
 <type>transmission_interface/SimpleTransmission</type>
 <joint name="wrist">
 <hardwareInterface>PositionJointInterface</hardwareInterface>
 </joint>
 <actuator name="motor3">
 <hardwareInterface>PositionJointInterface</hardwareInterface>
 <mechanicalReduction>1</mechanicalReduction>
 </actuator>
 </transmission>
 
 <gazebo>
 <plugin name="control" filename="libgazebo_ros_control.so"/>
 </gazebo>
 
 <gazebo>
 <plugin name="joint_state_publisher"
 filename="libgazebo_ros_joint_state_publisher.so">
 <jointName>hip, shoulder, elbow, wrist</jointName>
 </plugin>
 </gazebo>
 
 <gazebo reference="sensor">
     <sensor name="camera" type="depth">
        <pose>0.001 -0.045 0.003 0 0 0</pose>
        <update_rate>60</update_rate>
        <camera>
          <horizontal_fov>0.976899239</horizontal_fov>
          <image>
            <width>480</width>
            <height>360</height>
            <format>R8G8B8</format>
          </image>
          <clip>
            <near>0.5</near>
            <far>10</far>
          </clip>
        </camera>
        
        <plugin name="camera_plugin" filename="libgazebo_ros_openni_kinect.so">
          <baseline>0.2</baseline>
          <alwaysOn>true</alwaysOn>
          <!-- Keep this zero, update_rate in the parent <sensor> tag
            will control the frame rate. -->
          <updateRate>0.0</updateRate>
          <cameraName>camera_ir</cameraName>
          <imageTopicName>/camera/color/image_raw</imageTopicName>
          <cameraInfoTopicName>/camera/color/camera_info</cameraInfoTopicName>
          <depthImageTopicName>/camera/depth/image_raw</depthImageTopicName>
          <depthImageCameraInfoTopicName>/camera/depth/camera_info</depthImageCameraInfoTopicName>
          <pointCloudTopicName>/camera/depth/points</pointCloudTopicName>
          <frameName>camera_link</frameName>
          <pointCloudCutoff>0.5</pointCloudCutoff>
          <pointCloudCutoffMax>3.0</pointCloudCutoffMax>
          <distortionK1>0</distortionK1>
          <distortionK2>0</distortionK2>
          <distortionK3>0</distortionK3>
          <distortionT1>0</distortionT1>
          <distortionT2>0</distortionT2>
          <CxPrime>0</CxPrime>
          <Cx>0</Cx>
          <Cy>0</Cy>
          <focalLength>0</focalLength>
          <hackBaseline>0</hackBaseline>
        </plugin>
      </sensor>
</gazebo>
          
</robot>
